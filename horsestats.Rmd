---
title: "2020 Road to The Kentucky Derby Horse Stats"
author: "Brenden Latham"
date: "1/16/2021"
output:
  word_document: default
  html_document: default
---

```{r setup, include=FALSE}
library(tidyverse)
library(boot)
knitr::opts_chunk$set(echo = TRUE)
df <- read.csv("derbydata.csv")
```

# 2020 Horse Racing
#### For Intro to Probability and Statistics by Dr. Nicholas Jacobs

The 2020 horse racing season was overshadowed by the recent pandemic, and as a result I didn't get to follow it as closely as I would have liked. I am taking this opportunity to use that to my advantage and look back at the season while also learning about statistics. My data comes from [www.bloodhorse.com](https://www.bloodhorse.com/horse-racing/triple-crown/road-to-the-kentucky-derby/2020) and I received it from Dr. Jacobs. It is available on my github account name [BrendenLatham](https://github.com/BrendenLatham/horse-stats). It will also be shown below.

```{r}
df
```

## Project Part 1
### Data Overview
My data is relatively clean, but for the sake of simplification I will not be focusing much on Non-Restricted Steaks Earnings or Owner except maybe to later calculate the earnings of each owner. I will also be working with the values of Career Earnings in a way that they need to be in double format. I will call this simplified format dfs

```{r}
dfs <- data.frame(df) %>%
  select(Ranking,Horse,Points,Career.Earnings.,Trainer,Breeder)
dfs$Career.Earnings. <- as.numeric(gsub('[$,]', '',df$Career.Earnings.))
```

This is what that looks like

```{r}
dfs
```

I might want to look at the Individual Trainers as well. We can see that some trainers trained more than one horse on our data frame. Let me give you a look at each trainer and the horses they trained.

```{r}
hpt <- aggregate(Horse~Trainer,dfs,toString)
hpt
```

I find it interesting that Bob Baffert alone trained 4 of our 30 horses. This makes him responsible for roughly 13% of our horses. I wonder what the total earnings of his horses are. Lets make a table that shows this for all Trainers

```{r}
trainerval <- aggregate(Career.Earnings.~Trainer,dfs,sum)
trainerval
```

and that adds to a total horse earning sum of

```{r}
totalhorseearnings <- sum(dfs$Career.Earnings.)
totalhorseearnings
```
Split among our total horses

```{r}
horses <- dfs$Horse
length(horses)
```
trained by a unique trainer count of

```{r}
trainers <- trainerval$Trainer
length(trainers)
```
With Bob Baffert alone being responsible for 13% of our horses...

```{r}
baffertval <- trainerval[3,]
100/totalhorseearnings*baffertval$Career.Earnings.
```
and about 22% of our total money made. Almost 3.5 Million dollars! That's a lot of cash! I would like to further look at this later in the project.

I find it very interesting how one man trained 4 horses and was responsible for such a large percentage of the total winnings. You can probably infer by now which horses won the highest paying races.

I think by now we have a solid grasp on our data and can see every variable's relation to the others and how they interact.

### A bit more about our variables

We have gone over the Horse, Trainer, and Career Earnings variables. We also should take a quick look into our discrete Ranking and Points Variables, along with a nominal variable, Breeder.

+Ranking is the horses pre-Kentucky Derby season rank based on points.

+Points are awarded to the first 4 finishers in each of the 35 races leading up to the Kentucky derby. The top 20      scoring horses earn a spot in the Derby.

+Breeder is the name of the farm/stable/company that bred the horse.

Below is a visual summary of our variables.
```{r}
summary(dfs)
```

